databaseChangeLog:
  - changeSet:
      id: data-0001
      author: microcement-dev
      comment: "Insert test users and scene configurations"
      changes:
        # Insert User 1: Ivan Prokic with scene config
        - sql:
            sql: |
              INSERT INTO auth.users (
                id, 
                email, 
                encrypted_password, 
                confirmed_at, 
                created_at, 
                updated_at,
                raw_user_meta_data,
                raw_app_meta_data,
                is_super_admin,
                role
              ) VALUES (
                '550e8400-e29b-41d4-a716-446655440001',
                'ivanporkic@gmail.com',
                crypt('testpassword123', gen_salt('bf')),
                NOW(),
                NOW(),
                NOW(),
                '{"name": "Ivan Prokic"}',
                '{"provider": "email", "providers": ["email"]}',
                false,
                'authenticated'
              ) ON CONFLICT (id) DO NOTHING;

        # Insert User 2: Ema Prokic without scene config
        - sql:
            sql: |
              INSERT INTO auth.users (
                id, 
                email, 
                encrypted_password, 
                confirmed_at, 
                created_at, 
                updated_at,
                raw_user_meta_data,
                raw_app_meta_data,
                is_super_admin,
                role
              ) VALUES (
                '550e8400-e29b-41d4-a716-446655440002',
                'ivanprokic@yahoo.com',
                crypt('testpassword123', gen_salt('bf')),
                NOW(),
                NOW(),
                NOW(),
                '{"name": "Ema Prokic"}',
                '{"provider": "email", "providers": ["email"]}',
                false,
                'authenticated'
              ) ON CONFLICT (id) DO NOTHING;

        # Insert scene configuration for User 1 (Ivan)
        - sql:
            sql: |
              INSERT INTO public.user_scene_configs (
                id,
                user_id,
                config_name,
                model_path,
                camera_fov,
                camera_near,
                camera_far,
                orbital_height,
                orbital_radius_multiplier,
                orbital_speed,
                target_size,
                scale_multiplier,
                rotation_y,
                intro_duration,
                intro_start_pos,
                intro_end_pos,
                hotspot_colors,
                pulse_animation,
                hotspot_focal_distances,
                hotspot_categories,
                camera_points,
                look_at_targets,
                api_hotspot_key_aliases,
                is_default,
                created_at,
                updated_at
              ) VALUES (
                '660e8400-e29b-41d4-a716-446655440001',
                '550e8400-e29b-41d4-a716-446655440001',
                'Default Scene Config',
                '/models/no-material.glb',
                75,
                0.1,
                1000,
                40,
                6,
                0.2,
                30,
                2,
                1.5707963267948966,
                3000,
                '{"x": 0, "y": 20, "z": 0}',
                '{"x": -6.554798188035982, "y": 7.001298362376955, "z": 26.293127720925533}',
                '{"normal": 9223167, "hover": 11722918, "pulse": 9223167}',
                '{"duration": 800, "scale": 1.5, "opacity": 0.8}',
                '{"kitchen": 15, "bathroom": 12, "living": 18}',
                '{"kitchen": "Kitchen Area", "bathroom": "Bathroom", "living": "Living Space"}',
                '[
                  {"x": 20, "y": 5, "z": 0},
                  {"x": -8, "y": 6.5, "z": 2},
                  {"x": -14, "y": 6.75, "z": 7},
                  {"x": -8, "y": 7, "z": 24},
                  {"x": -4, "y": 7, "z": 30},
                  {"x": -2, "y": 7.25, "z": 32},
                  {"x": 12, "y": 7.5, "z": 32},
                  {"x": 20, "y": 8, "z": 25},
                  {"x": 16, "y": 8, "z": 0}
                ]',
                '[
                  {"x": 0, "y": 0, "z": 0},
                  {"x": 4, "y": 3, "z": 0},
                  {"x": 6, "y": 4, "z": 0},
                  {"x": 7, "y": 5, "z": 30},
                  {"x": 10, "y": 6, "z": 50},
                  {"x": 20, "y": 7, "z": 60},
                  {"x": 30, "y": 8, "z": 40},
                  {"x": 30, "y": 8, "z": 20},
                  {"x": 0, "y": 8, "z": -40}
                ]',
                '{"kitchen": "kitchen_hotspot", "bathroom": "bathroom_hotspot", "living": "living_hotspot"}',
                true,
                NOW(),
                NOW()
              ) ON CONFLICT (id) DO NOTHING;
