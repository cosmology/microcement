<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Three.js Standalone Test</title>
  <style>
    body { margin: 0; overflow: hidden; }
    #container { width: 100vw; height: 100vh; }
  </style>
</head>
<body>
  <div id="container"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/threejs/r177/three.min.js"></script>
  <script>
    const container = document.getElementById('container');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0xff0000, 1);
    container.appendChild(renderer.domElement);

    // Lighting
    scene.add(new THREE.AmbientLight(0xffffff, 1));
    // Floor
    const floorMat = new THREE.MeshStandardMaterial({ color: 0x8B7355 });
    const floor = new THREE.Mesh(new THREE.PlaneGeometry(80, 80), floorMat);
    floor.rotation.x = -Math.PI / 2;
    floor.position.y = -2;
    scene.add(floor);
    // Walls
    const wallMat = new THREE.MeshStandardMaterial({ color: 0xcccccc });
    const backWall = new THREE.Mesh(new THREE.PlaneGeometry(40, 20), wallMat);
    backWall.position.set(10, 8, -20);
    scene.add(backWall);
    const leftWall = new THREE.Mesh(new THREE.PlaneGeometry(40, 20), wallMat);
    leftWall.position.set(-10, 8, 0);
    leftWall.rotation.y = Math.PI / 2;
    scene.add(leftWall);
    const rightWall = new THREE.Mesh(new THREE.PlaneGeometry(40, 20), wallMat);
    rightWall.position.set(30, 8, 0);
    rightWall.rotation.y = -Math.PI / 2;
    scene.add(rightWall);
    // Cube
    const cubePos = new THREE.Vector3(10, 0, 3);
    const debugCube = new THREE.Mesh(
      new THREE.BoxGeometry(3, 3, 3),
      new THREE.MeshStandardMaterial({ color: 0x00ff00 })
    );
    debugCube.position.copy(cubePos);
    scene.add(debugCube);

    // Animation loop
    function animate() {
      // Scroll-based orbit
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = scrollHeight > 0 ? scrollTop / scrollHeight : 0;
      const radius = 50;
      const angle = (Math.PI / 2) + (Math.PI * 1.5 * progress);
      const camX = cubePos.x + radius * Math.cos(angle);
      const camZ = cubePos.z + radius * Math.sin(angle);
      const camY = 8 + Math.sin(angle * 2) * 10;
      camera.position.set(camX, camY, camZ);
      camera.lookAt(cubePos);
      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }
    animate();

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html> 